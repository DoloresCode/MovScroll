{% extends 'base.html' %}

{% block title %}Update Watchlist{% endblock %}

{% block content %}
  <h1 class="title-update-watchlist">Update Watchlist</h1>

  <div class="link-go-back-new">
    <a href="{% url 'watchlist_list' %}">> Go back</a>
  </div>

  <form method="POST">
    {% csrf_token %}
    
    <div class="form-group">
      <label for="{{ form.title.id_for_label }}">Watchlist Title:</label>
      {{ form.title }}
      <p>Please enter the title of the watchlist.</p>
    </div>

    <div class="form-group">
      <label for="{{ form.movies.id_for_label }}">Movies:</label>
      <select name="movies" multiple>
          {% for movie in movies %}
              <option value="{{ movie.id }}" {% if movie in watchlist.movies.all %}selected{% endif %}>{{ movie.title }}</option>
          {% endfor %}
      </select>
        <div class="watchlist-select-sub-text">
            <small>To select multiple movies, hold down the Command key (on Mac) or Control key (on Windows) while clicking on the movies.</small>
        </div>
    </div>

    <div class="form-group">
      <input type="submit" value="Update Watchlist" />
    </div>
  </form>

{% endblock %}
